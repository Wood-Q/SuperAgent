# MoonAgent - æ™ºèƒ½ AI åŠ©æ‰‹ç³»ç»Ÿ

<div align="center">

![MoonAgent Logo](https://img.shields.io/badge/MoonAgent-æ™ºèƒ½åŠ©æ‰‹-blue?style=for-the-badge)

ä¸€ä¸ªåŸºäº Go å’Œ Vue3 æ„å»ºçš„ç°ä»£åŒ–æ™ºèƒ½ AI åŠ©æ‰‹ç³»ç»Ÿï¼Œé›†æˆäº† RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ã€å‘é‡æ•°æ®åº“ã€æµå¼å¯¹è¯ç­‰å…ˆè¿›æŠ€æœ¯ã€‚

[![Go Version](https://img.shields.io/badge/Go-1.24+-00ADD8?style=flat-square&logo=go)](https://golang.org/)
[![Vue Version](https://img.shields.io/badge/Vue-3.3+-4FC08D?style=flat-square&logo=vue.js)](https://vuejs.org/)
[![License](https://img.shields.io/badge/License-MIT-green?style=flat-square)](LICENSE)

</div>

## ğŸ“– é¡¹ç›®ä»‹ç»

MoonAgent æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ™ºèƒ½ AI åŠ©æ‰‹ç³»ç»Ÿï¼Œæ—¨åœ¨æä¾›é«˜è´¨é‡çš„å¯¹è¯ä½“éªŒå’Œæ™ºèƒ½é—®ç­”æœåŠ¡ã€‚ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„å¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æŒå®æ—¶æµå¼å¯¹è¯ã€æ–‡æ¡£æ£€ç´¢ã€ç½‘é¡µæµè§ˆç­‰å¤šç§åŠŸèƒ½ã€‚

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
MoonAgent/
â”œâ”€â”€ cmd/                    # åº”ç”¨ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ server/            # æœåŠ¡å™¨å¯åŠ¨ç¨‹åº
â”‚   â””â”€â”€ di/                # ä¾èµ–æ³¨å…¥é…ç½®
â”œâ”€â”€ internal/              # å†…éƒ¨ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ api/               # APIå±‚
â”‚   â”‚   â”œâ”€â”€ handler/       # è¯·æ±‚å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ middleware/    # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ pipeline/          # AIæµæ°´çº¿
â”‚   â”œâ”€â”€ agents/            # AIä»£ç†
â”‚   â”œâ”€â”€ constants/         # å¸¸é‡å®šä¹‰
â”‚   â””â”€â”€ global/            # å…¨å±€é…ç½®
â”œâ”€â”€ pkg/                   # å…¬å…±åŒ…
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ embedder/          # å‘é‡åµŒå…¥
â”‚   â”œâ”€â”€ indexer/           # ç´¢å¼•å™¨
â”‚   â”œâ”€â”€ retriever/         # æ£€ç´¢å™¨
â”‚   â”œâ”€â”€ splitter/          # æ–‡æ¡£åˆ†å‰²å™¨
â”‚   â”œâ”€â”€ vectorDB/          # å‘é‡æ•°æ®åº“
â”‚   â”œâ”€â”€ milvus/            # Milvusé›†æˆ
â”‚   â”œâ”€â”€ tools/             # å·¥å…·é›†æˆ
â”‚   â””â”€â”€ logger/            # æ—¥å¿—ç³»ç»Ÿ
â”œâ”€â”€ SuperAgentFrontend/    # Vue3å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/               # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/    # Vueç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ style.css      # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ public/            # é™æ€èµ„æº
â”œâ”€â”€ configs/               # é…ç½®æ–‡ä»¶
â”œâ”€â”€ assets/                # èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ documents/         # æ–‡æ¡£åº“
â””â”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
```

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ğŸ¤– æ™ºèƒ½å¯¹è¯**: åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„è‡ªç„¶è¯­è¨€å¯¹è¯
- **ğŸ“š RAG æ£€ç´¢**: æ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œæä¾›å‡†ç¡®çš„çŸ¥è¯†é—®ç­”
- **ğŸŒŠ æµå¼å“åº”**: å®æ—¶æµå¼è¾“å‡ºï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- **ğŸ” æ–‡æ¡£æ£€ç´¢**: æ”¯æŒæ–‡æ¡£ä¸Šä¼ å’Œæ™ºèƒ½æ£€ç´¢
- **ğŸŒ ç½‘é¡µæµè§ˆ**: é›†æˆç½‘é¡µæµè§ˆå’Œæœç´¢åŠŸèƒ½
- **ğŸ’¾ å‘é‡å­˜å‚¨**: åŸºäº Milvus çš„é«˜æ€§èƒ½å‘é‡æ•°æ®åº“
- **ğŸ¨ ç°ä»£ UI**: åŸºäº Vue3 çš„å“åº”å¼å‰ç«¯ç•Œé¢
- **âš¡ é«˜æ€§èƒ½**: åŸºäº Hertz æ¡†æ¶çš„é«˜æ€§èƒ½åç«¯æœåŠ¡

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯

| æŠ€æœ¯       | ç‰ˆæœ¬    | ç”¨é€”             |
| ---------- | ------- | ---------------- |
| **Go**     | 1.24+   | ä¸»è¦ç¼–ç¨‹è¯­è¨€     |
| **Hertz**  | v0.10.0 | é«˜æ€§èƒ½ HTTP æ¡†æ¶ |
| **Eino**   | v0.3.33 | AI ç¼–æ’æ¡†æ¶      |
| **Milvus** | v2.4.2  | å‘é‡æ•°æ®åº“       |
| **Viper**  | v1.20.1 | é…ç½®ç®¡ç†         |
| **Zap**    | v1.27.0 | ç»“æ„åŒ–æ—¥å¿—       |
| **Wire**   | v0.6.0  | ä¾èµ–æ³¨å…¥         |

### å‰ç«¯æŠ€æœ¯

| æŠ€æœ¯      | ç‰ˆæœ¬   | ç”¨é€”        |
| --------- | ------ | ----------- |
| **Vue 3** | 3.3.4+ | å‰ç«¯æ¡†æ¶    |
| **Vite**  | 4.4.5+ | æ„å»ºå·¥å…·    |
| **Axios** | 1.5.0+ | HTTP å®¢æˆ·ç«¯ |
| **UUID**  | 9.0.0+ | ä¼šè¯ç®¡ç†    |

### AI ä¸é›†æˆ

- **å­—èŠ‚è·³åŠ¨è±†åŒ…å¤§æ¨¡å‹**: ä¸»è¦çš„è¯­è¨€æ¨¡å‹æœåŠ¡
- **å‘é‡åµŒå…¥æ¨¡å‹**: æ–‡æ¡£å‘é‡åŒ–å¤„ç†
- **Google æœç´¢ API**: ç½‘é¡µæœç´¢åŠŸèƒ½
- **æµè§ˆå™¨è‡ªåŠ¨åŒ–**: ç½‘é¡µå†…å®¹æŠ“å–
- **SSE æµå¼ä¼ è¾“**: å®æ—¶å“åº”æµ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Go**: 1.24 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js**: 16.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Milvus**: 2.4 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼Œç”¨äºå‘é‡å­˜å‚¨ï¼‰

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/MoonAgent.git
cd MoonAgent
```

### 2. é…ç½®ç¯å¢ƒ

å¯åŠ¨milvusæœåŠ¡

```bash
cd pkg/vectorDB
docker compose up -d
```

å¯ä»¥é€šè¿‡è®¿é—®http://127.0.0.1:8000/
è¿›å…¥milvuså¯è§†åŒ–é¢æ¿attu

å¤åˆ¶é…ç½®æ–‡ä»¶å¹¶å¡«å†™å¿…è¦ä¿¡æ¯ï¼š

```bash
cp configs/config-example.yaml configs/config.yaml
```

ç¼–è¾‘ `configs/config.yaml`ï¼š

```yaml
# æœåŠ¡é…ç½®
host: "127.0.0.1"
port: "8888"

# å¤§æ¨¡å‹é…ç½®
llm:
  base_url: "your_llm_base_url"
  api_key: "your_api_key"
  model: "your_model_name"

# å‘é‡æ•°æ®åº“é…ç½®
document:
  addr: "127.0.0.1:19530"
  api_key: "your_embedding_api_key"
  model: "your_embedding_model"

# æµè§ˆå™¨é…ç½®
browser:
  api_key: "your_google_api_key"
  search_engine_id: "your_search_engine_id"
```

### 3. å¯åŠ¨åç«¯æœåŠ¡

```bash
# å®‰è£…Goä¾èµ–
go mod tidy

# å¯åŠ¨æœåŠ¡
go run cmd/server/main.go
```

æœåŠ¡å°†åœ¨ `http://localhost:8888` å¯åŠ¨

### 4. å¯åŠ¨å‰ç«¯åº”ç”¨

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd SuperAgentFrontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:3000` å¯åŠ¨

### 5. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`ï¼Œå¼€å§‹ä¸ AI åŠ©æ‰‹å¯¹è¯ï¼

## ğŸ“‹ API æ¥å£

### èŠå¤©æ¥å£

#### æ™®é€šèŠå¤©

```http
POST /api/chat
Content-Type: application/json

{
  "userInput": "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±"
}
```

#### æµå¼èŠå¤©

```http
POST /api/chat/stream
Content-Type: application/json

{
  "userInput": "è¯·è¯¦ç»†è§£é‡Šä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½"
}
```

å“åº”æ ¼å¼ï¼šServer-Sent Events (SSE)

```
event: message
data: äººå·¥æ™ºèƒ½æ˜¯...

event: message
data: ä¸€ç§æ¨¡æ‹Ÿäººç±»æ™ºèƒ½...

event: done
data: Stream completed
```

### æ–‡æ¡£ç®¡ç†

å°†éœ€è¦æ£€ç´¢çš„æ–‡æ¡£æ”¾å…¥ `assets/documents/` ç›®å½•ã€‚

- [ ] æä¾›å‘é‡åŒ–å­˜å‚¨çš„å¯¹å¤– API

## ğŸ§ª å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„è¯´æ˜

- **cmd/**: åº”ç”¨ç¨‹åºå…¥å£ç‚¹ï¼ŒåŒ…å«æœåŠ¡å™¨å¯åŠ¨é€»è¾‘
- **internal/**: å†…éƒ¨ä¸šåŠ¡é€»è¾‘ï¼Œä¸å¯¹å¤–æš´éœ²
- **pkg/**: å¯å¤ç”¨çš„å…¬å…±åŒ…
- **configs/**: é…ç½®æ–‡ä»¶ç›®å½•
- **SuperAgentFrontend/**: Vue3 å‰ç«¯åº”ç”¨

### æ·»åŠ æ–°åŠŸèƒ½

1. **æ·»åŠ æ–°çš„å·¥å…·**: åœ¨ `pkg/tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„å·¥å…·æ–‡ä»¶
2. **æ‰©å±• API**: åœ¨ `internal/api/handler/` æ·»åŠ æ–°çš„å¤„ç†å™¨
3. **ä¿®æ”¹æµæ°´çº¿**: åœ¨ `internal/pipeline/` è°ƒæ•´ AI å¤„ç†æµç¨‹

## ğŸ”® æœªæ¥è§„åˆ’

### ç›®æ ‡

- [ ] **å¯¹è¯å†å²**: å®ç°å¯¹è¯è®°å½•å’Œå†å²æŸ¥è¯¢
- [ ] **API æ–‡æ¡£**: å®Œå–„ Swagger API æ–‡æ¡£
- [ ] **æ£€ç´¢ç­–ç•¥ä¼˜åŒ–**: å°è¯•é‡‡ç”¨å¤šç§æ£€ç´¢ç­–ç•¥è¿›è¡Œä¼˜åŒ–
- [ ] **å®‰å…¨æœºåˆ¶å¼•å…¥**: å°è¯•å¼•å…¥å®‰å…¨ä½œç”¨æœºåˆ¶
- [ ] **æ€ç»´ä¸å·¥å…·æ­¥éª¤è®°å½•**: å¼•å…¥æ€ç»´é“¾è¾“å‡ºä¸å·¥å…·ä½¿ç”¨çš„æ­¥éª¤è¾“å‡ºè®°å½•

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼**

</div>
